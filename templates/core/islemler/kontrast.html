{% extends 'core/islemler/islem_base.html' %}

{% block title %}Kontrast Ayarlama - Görüntü İşleme{% endblock %}

{% block islem_title %}Kontrast Ayarlama{% endblock %}

{% block islem_parametreleri %}
<div class="mb-3">
    <label class="form-label">Kontrast Yöntemi</label>
    <select class="form-select" id="kontrastYontemi">
        <option value="dogrusal">Doğrusal Kontrast Ayarlama</option>
        <option value="gamma">Gamma Düzeltmesi</option>
        <option value="logaritmik">Logaritmik Dönüşüm</option>
    </select>
</div>

<div id="dogrusalParametreler" class="mb-3">
    <label class="form-label">Kontrast Faktörü</label>
    <div class="d-flex align-items-center gap-2">
        <input type="range" class="form-range" id="kontrastFaktor" min="0.1" max="3.0" step="0.1" value="1.0">
        <span id="kontrastDeger">1.0</span>
    </div>
</div>

<div id="gammaParametreler" class="mb-3" style="display: none;">
    <label class="form-label">Gamma Değeri</label>
    <div class="d-flex align-items-center gap-2">
        <input type="range" class="form-range" id="gammaFaktor" min="0.1" max="5.0" step="0.1" value="1.0">
        <span id="gammaDeger">1.0</span>
    </div>
</div>

<div class="mb-3">
    <div class="form-check">
        <input class="form-check-input" type="checkbox" id="kanalBazli">
        <label class="form-check-label" for="kanalBazli">
            Renk Kanallarını Ayrı İşle
        </label>
    </div>
</div>
{% endblock %}

{% block islem_js %}
const kontrastYontemi = document.getElementById('kontrastYontemi');
const dogrusalParametreler = document.getElementById('dogrusalParametreler');
const gammaParametreler = document.getElementById('gammaParametreler');
const kontrastFaktor = document.getElementById('kontrastFaktor');
const gammaFaktor = document.getElementById('gammaFaktor');
const kontrastDeger = document.getElementById('kontrastDeger');
const gammaDeger = document.getElementById('gammaDeger');
const kanalBazli = document.getElementById('kanalBazli');

kontrastYontemi.addEventListener('change', function() {
    dogrusalParametreler.style.display = this.value === 'dogrusal' ? 'block' : 'none';
    gammaParametreler.style.display = this.value === 'gamma' ? 'block' : 'none';
});

kontrastFaktor.addEventListener('input', function() {
    kontrastDeger.textContent = this.value;
});

gammaFaktor.addEventListener('input', function() {
    gammaDeger.textContent = this.value;
});

document.getElementById('processButton').addEventListener('click', function() {
    console.log('Kontrast ayarlama işlemi başlatıldı');
    console.log('Kontrast yöntemi:', kontrastYontemi.value);
    console.log('Kanal bazlı işlem:', kanalBazli.checked);
    
    if (kontrastYontemi.value === 'dogrusal') {
        console.log('Kontrast faktörü:', kontrastFaktor.value);
    } else if (kontrastYontemi.value === 'gamma') {
        console.log('Gamma değeri:', gammaFaktor.value);
    }
});
{% endblock %} 